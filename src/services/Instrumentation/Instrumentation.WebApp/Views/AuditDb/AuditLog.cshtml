@model Instrumentation.WebApp.Models.ViewQueryAuditLog
@{
    Model.ViewQueryCommon.ViewTitle = "Instrumentation Viewer";
}

<div class="PageRoot">
    
    @Html.Action("Header", "Home", Model.ViewQueryCommon)

    @using (@Html.BeginForm())
    {
        <div>
            <table>
                <tr>
                    <th class="TextLabelLeft">AuditLog</th><th></th>
                </tr>
                <tr>
                    <td style="border: none">
                        <input type="submit" name="Command" value="Refresh"/>
                    </td>
                </tr>
            </table>
        </div>

        <div>
            <table class="alternate_color">
                <tr>
                    <th>Id</th>
                    <th>EventId</th>
                    <th>ApplicationName</th>
                    <th>FeatureName</th>
                    <th>Category</th>
                    <th>MessageCode</th>
                    <th>Messages</th>
                    <th>TraceLevel</th>
                    <th>LoginName</th>
                    <th>AuditedOn</th>
                </tr>
                @foreach (var auditLog in Model.AuditLogs)
                {
                    <tr>
                        <td>
                            <a href="AuditLogById/@auditLog.Id" title="@auditLog.Id">@auditLog.Id</a>
                        </td>
                        <td class="eventId">
                            <a href="AuditLogsByEventId/@auditLog.EventId" title="@auditLog.EventId">@auditLog.EventId</a>
                        </td>

                        <td>@auditLog.ApplicationName</td>
                        <td>@auditLog.FeatureName</td>
                        <td>@auditLog.Category</td>
                        <td>@auditLog.MessageCode</td>
                        <td class="messages">
                            <span title="@auditLog.Messages">@auditLog.Messages</span>
                        </td>
                        <td>
                            <a href="http://localhost/Instrumentation" title="@auditLog.Messages">@auditLog.TraceLevel</a>
                        </td>
                        <td>@auditLog.LoginName</td>
                        <td>@auditLog.AuditedOn</td>
                    </tr>
                }
            </table>
        </div>
    }
</div>