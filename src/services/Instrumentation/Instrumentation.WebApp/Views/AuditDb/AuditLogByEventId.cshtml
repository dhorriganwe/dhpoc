@model Instrumentation.WebApp.Models.ViewQueryAuditLogByEventId
@{
    Model.Header.ViewTitle = "Instrumentation Viewer";
}

<div class="PageRoot">
    
    @Html.Action("Header", "Home", Model.Header)

    @using (@Html.BeginForm())
    {
        @Html.Action("DbSelect", "AuditDb", Model.Header)
        
        <div class="PageSectionWithBorder">

            <div>
                <table class="alternate_color">
                    <tr>
                        <td>EventId</td>
                        <td>@Html.TextBoxFor(q => q.EventId, null, null)</td>
                        <td><input type="submit" name="Command" value="Search"/></td>
                    </tr>
                </table>
            </div>

            @Html.Action("AuditLogGrid", Model)

            @foreach(var auditLog in Model.AuditLogs)
            { 
                <div>
                    <table class="alternate_color">
        
                        @if (!string.IsNullOrEmpty(auditLog.Id))
                        {
                            <tr><td>Id</td><td>@auditLog.Id</td></tr>
                            <tr><td>EventId</td><td>@auditLog.EventId</td></tr>
                            <tr><td>ApplicationName</td><td>@auditLog.ApplicationName</td></tr>
                            <tr><td>FeatureName</td><td>@auditLog.FeatureName</td></tr>
                            <tr><td>Category</td><td>@auditLog.Category</td></tr>
                            <tr><td>TraceLevel</td><td>@auditLog.TraceLevel</td></tr>
                            <tr><td>MessageCode</td><td>@auditLog.MessageCode</td></tr>
                            <tr><td>LoginName</td><td>@auditLog.LoginName</td></tr>
                            <tr><td>AuditedOn</td><td>@auditLog.AuditedOn</td></tr>
                            <tr>
                                <td>Messages</td>
                                <td>@Html.TextArea("Info", auditLog.Messages, new { cols = "150", rows = "10", @readonly = "readonly", @disabled = "disabled" })</td>
                            </tr>
                            <tr>
                                <td>AdditionalInfo</td>
                                <td>@Html.TextArea("Info", auditLog.AdditionalInfo, new { cols = "150", rows = "10", @readonly = "readonly", @disabled = "disabled" })</td>
                            </tr>
                        }

                    </table>
                </div>
                <br />
            }
        </div>
    }
</div>
